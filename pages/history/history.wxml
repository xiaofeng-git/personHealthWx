<view class="container">
  <view class="header">
    <text class="title">å†å²è®°å½•</text>
    <text class="title-emoji">ğŸ“‚</text>
  </view>

  <!-- ç±»å‹é€‰æ‹©å™¨ -->
  <view class="type-selector card">
    <view class="type-option {{currentType === 'food' ? 'active' : ''}}" 
          bindtap="switchType" 
          data-type="food">
      <text class="option-icon">ğŸ½</text>
      <text>é¥®é£Ÿè®°å½•</text>
    </view>
    <view class="type-option {{currentType === 'exercise' ? 'active' : ''}}" 
          bindtap="switchType" 
          data-type="exercise">
      <text class="option-icon">ğŸƒ</text>
      <text>è¿åŠ¨è®°å½•</text>
    </view>
  </view>

  <!-- è®°å½•åˆ—è¡¨ -->
  <view class="records-list">
    <block wx:if="{{currentType === 'food'}}">
      <view class="record-card card" wx:for="{{foodRecords}}" wx:key="id">
        <image class="food-image" src="{{item.imageUrl}}" mode="aspectFill"></image>
        <view class="record-info">
          <view class="record-header">
            <text class="record-name">{{item.foodName}}</text>
            <text class="record-time">{{item.createdAt}}</text>
          </view>
          <view class="nutrition-info">
            <text>çƒ­é‡: {{item.calories}}åƒå¡</text>
            <text>è›‹ç™½è´¨: {{item.protein}}g</text>
            <text>ç¢³æ°´: {{item.carbs}}g</text>
            <text>è„‚è‚ª: {{item.fat}}g</text>
          </view>
        </view>
      </view>
    </block>
    <block wx:else>
      <view class="record-card card" wx:for="{{exerciseRecords}}" wx:key="id">
        <view class="record-info">
          <view class="record-header">
            <text class="record-name">{{item.type}}</text>
            <text class="record-time">{{item.createdAt}}</text>
          </view>
          <view class="exercise-info">
            <text>æ—¶é•¿: {{item.duration}}åˆ†é’Ÿ</text>
            <text>æ¶ˆè€—: {{item.calories}}åƒå¡</text>
          </view>
        </view>
      </view>
    </block>
  </view>
</view> 